{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T06:45:57.049Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-17T06:46:27.045Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T06:48:45.445Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T06:48:46.563Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:49:17 +0000] \"GET / HTTP/1.1\" 404 139 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T06:49:17.271Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:49:17 +0000] \"GET /apple-touch-icon-precomposed.png HTTP/1.1\" 404 171 \"-\" \"Safari/19618.1.15.11.12 CFNetwork/1494.0.7 Darwin/23.4.0\"","timestamp":"2025-03-17T06:49:17.378Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:49:17 +0000] \"GET /apple-touch-icon.png HTTP/1.1\" 404 159 \"-\" \"Safari/19618.1.15.11.12 CFNetwork/1494.0.7 Darwin/23.4.0\"","timestamp":"2025-03-17T06:49:17.387Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:49:20 +0000] \"GET / HTTP/1.1\" 404 139 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T06:49:20.820Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:49:22 +0000] \"GET /auth HTTP/1.1\" 404 143 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T06:49:22.780Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:49:41 +0000] \"GET /api/auth HTTP/1.1\" 404 147 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T06:49:41.184Z"}
{"level":"error","message":"ApiError: Name is required","stack":"ApiError: Name is required\n    at register (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/authController.js:11:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T06:52:43.143Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:52:43 +0000] \"POST /api/auth/register HTTP/1.1\" 400 47 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T06:52:43.146Z"}
{"level":"error","message":"ApiError: Name is required","stack":"ApiError: Name is required\n    at register (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/authController.js:11:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T06:52:53.215Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:52:53 +0000] \"POST /api/auth/register HTTP/1.1\" 400 47 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T06:52:53.216Z"}
{"level":"error","message":"ApiError: Name is required","stack":"ApiError: Name is required\n    at register (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/authController.js:11:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T06:53:30.270Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:53:30 +0000] \"POST /api/auth/register HTTP/1.1\" 400 47 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T06:53:30.271Z"}
{"level":"error","message":"SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)","stack":"SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)\n    at JSON.parse (<anonymous>)\n    at parse (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/types/json.js:92:19)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:238:16)\n    at done (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-03-17T06:54:26.511Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:54:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 310 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T06:54:45.562Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T06:56:21.700Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:56:21 +0000] \"GET /api/auth/profile HTTP/1.1\" 401 54 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T06:56:21.702Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:06:57:39 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 128 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T06:57:39.679Z"}
{"level":"error","message":"PayloadTooLargeError: request entity too large","stack":"PayloadTooLargeError: request entity too large\n    at readStream (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:163:17)\n    at getRawBody (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:116:12)\n    at read (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/read.js:79:3)\n    at jsonParser (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/types/json.js:138:5)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:328:13)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-03-17T07:03:50.311Z"}
{"level":"error","message":"PayloadTooLargeError: request entity too large","stack":"PayloadTooLargeError: request entity too large\n    at readStream (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:163:17)\n    at getRawBody (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:116:12)\n    at read (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/read.js:79:3)\n    at jsonParser (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/types/json.js:138:5)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:328:13)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/helmet/index.cjs:537:6)","timestamp":"2025-03-17T07:05:48.057Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T07:08:22.452Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T07:08:23.620Z"}
{"level":"error","message":"SyntaxError: Unexpected token '-', \"----------\"... is not valid JSON","stack":"SyntaxError: Unexpected token '-', \"----------\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at createStrictSyntaxError (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/types/json.js:169:10)\n    at parse (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/types/json.js:86:15)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:238:16)\n    at done (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2025-03-17T07:08:29.736Z"}
{"level":"error","message":"ApiError: Title is required","stack":"ApiError: Title is required\n    at uploadDocument (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/documentController.js:16:7)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T07:08:55.902Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:08:55 +0000] \"POST /api/documents HTTP/1.1\" 400 48 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:08:55.903Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:13:03 +0000] \"POST /api/documents HTTP/1.1\" 201 117 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:13:03.313Z"}
{"documentId":"67d7cb7fac9003296682ee6e","error":{},"level":"error","message":"Error creating vector store: Could not import hnswlib-node. Please install hnswlib-node as a dependency with, e.g. `npm install -S hnswlib-node`.\n\nError: Cannot find package 'hnswlib-node' imported from /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/@langchain/community/dist/vectorstores/hnswlib.cjs","timestamp":"2025-03-17T07:13:08.669Z"}
{"documentId":"67d7cb7fac9003296682ee6e","error":{},"level":"error","message":"Error processing document: Could not import hnswlib-node. Please install hnswlib-node as a dependency with, e.g. `npm install -S hnswlib-node`.\n\nError: Cannot find package 'hnswlib-node' imported from /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/@langchain/community/dist/vectorstores/hnswlib.cjs","timestamp":"2025-03-17T07:13:08.669Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T07:18:24.851Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T07:18:25.776Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:19:37 +0000] \"POST /api/documents HTTP/1.1\" 201 117 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:19:37.162Z"}
{"level":"info","message":"Document processed successfully: 67d7cd09710e80c49abd58cf","timestamp":"2025-03-17T07:19:42.810Z"}
{"level":"error","message":"ApiError: Document is not ready for chat","stack":"ApiError: Document is not ready for chat\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:25:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T07:21:10.615Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:21:10 +0000] \"POST /api/chat/ HTTP/1.1\" 400 61 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:21:10.616Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T07:25:34.427Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T07:25:35.492Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T07:26:01.200Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T07:26:01.811Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T07:27:30.814Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T07:27:31.723Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T07:28:26.150Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T07:28:26.698Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:28:37 +0000] \"POST /api/documents HTTP/1.1\" 201 117 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:28:37.874Z"}
{"level":"info","message":"Document processed successfully: 67d7cf2536e707b7168ea121","timestamp":"2025-03-17T07:28:43.301Z"}
{"level":"error","message":"ApiError: Document is not ready for chat","stack":"ApiError: Document is not ready for chat\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:25:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T07:28:44.991Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:28:44 +0000] \"POST /api/chat/ HTTP/1.1\" 400 61 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:28:44.992Z"}
{"level":"error","message":"ApiError: Document is not ready for chat","stack":"ApiError: Document is not ready for chat\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:25:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T07:29:03.097Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:29:03 +0000] \"POST /api/chat/ HTTP/1.1\" 400 61 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:29:03.099Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:31:16 +0000] \"POST /api/chat/ HTTP/1.1\" 200 230 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:31:16.127Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:07:31:46 +0000] \"POST /api/chat/ HTTP/1.1\" 200 408 \"-\" \"curl/8.4.0\"","timestamp":"2025-03-17T07:31:46.863Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:01:56 +0000] \"POST /api/auth/login HTTP/1.1\" 200 310 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:01:56.979Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:27:41 +0000] \"POST /api/auth/login HTTP/1.1\" 200 310 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:27:41.768Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:30:06.224Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:30:06 +0000] \"POST /api/documents HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:30:06.227Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:30:08.631Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:30:08 +0000] \"POST /api/documents HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:30:08.634Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:30:46.848Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:30:46 +0000] \"POST /api/documents HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:30:46.850Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:30:47.913Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:30:47 +0000] \"POST /api/documents HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:30:47.914Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:30:48.415Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:30:48 +0000] \"POST /api/documents HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:30:48.417Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:45:25.296Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:45:25 +0000] \"POST /api/documents HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:45:25.298Z"}
{"level":"error","message":"ApiError: Invalid token","stack":"ApiError: Invalid token\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:27:18)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:47:27.090Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:47:27 +0000] \"POST /api/documents HTTP/1.1\" 401 44 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:47:27.092Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:48:54 +0000] \"POST /api/documents HTTP/1.1\" 201 135 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:48:54.319Z"}
{"level":"info","message":"Document processed successfully: 67d7e1f636e707b7168ea12f","timestamp":"2025-03-17T08:48:59.287Z"}
{"level":"error","message":"ApiError: Authentication required","stack":"ApiError: Authentication required\n    at auth (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/middleware/auth.js:13:19)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-03-17T08:55:22.276Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:55:22 +0000] \"POST /api/chat HTTP/1.1\" 401 54 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:55:22.279Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:56:42 +0000] \"POST /api/chat HTTP/1.1\" 200 230 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:56:42.173Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:57:55 +0000] \"POST /api/chat HTTP/1.1\" 200 424 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:57:55.332Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:08:58:30 +0000] \"POST /api/chat HTTP/1.1\" 200 409 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T08:58:30.616Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:00:04 +0000] \"POST /api/chat HTTP/1.1\" 200 528 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:00:04.927Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:39:52.154Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:39:53.297Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'name')","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:33:59)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T09:40:10.310Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:40:10 +0000] \"POST /api/chat HTTP/1.1\" 500 83 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:40:10.315Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:41:15.243Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:41:16.362Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:37:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T09:41:24.609Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:41:24 +0000] \"POST /api/chat HTTP/1.1\" 500 86 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:41:24.615Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:41:57.180Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:41:57.673Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:38:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T09:42:07.966Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:42:07 +0000] \"POST /api/chat HTTP/1.1\" 500 86 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:42:07.970Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:43:15.633Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:43:16.547Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:43:40 +0000] \"POST /api/chat HTTP/1.1\" 200 193 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:43:40.495Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:44:03 +0000] \"POST /api/chat HTTP/1.1\" 200 282 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:44:03.310Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:44:39.429Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:44:40.362Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:45:10 +0000] \"POST /api/chat HTTP/1.1\" 200 399 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:45:10.515Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:48:00 +0000] \"POST /api/chat HTTP/1.1\" 200 454 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:48:00.665Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:49:52 +0000] \"POST /api/chat HTTP/1.1\" 200 325 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:49:52.144Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:50:14 +0000] \"POST /api/chat HTTP/1.1\" 200 325 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:50:14.784Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:52:13.488Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:52:14.563Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:53:30 +0000] \"POST /api/chat HTTP/1.1\" 200 424 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:53:30.966Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:53:54 +0000] \"POST /api/chat HTTP/1.1\" 200 300 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:53:54.801Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:55:46.085Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:55:47.240Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:56:04 +0000] \"POST /api/chat HTTP/1.1\" 200 230 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:56:04.049Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:56:25.577Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:56:26.082Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:56:33 +0000] \"POST /api/chat HTTP/1.1\" 200 195 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:56:33.147Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:56:56.411Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:56:57.080Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'messages')","stack":"TypeError: Cannot read properties of undefined (reading 'messages')\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:38:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T09:57:23.482Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:57:23 +0000] \"POST /api/chat HTTP/1.1\" 500 87 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:57:23.486Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:57:45.727Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:57:46.250Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:47:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T09:57:54.804Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:57:54 +0000] \"POST /api/chat HTTP/1.1\" 500 86 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:57:54.807Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T09:58:41.576Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T09:58:42.519Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:58:48 +0000] \"POST /api/chat HTTP/1.1\" 200 528 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:58:48.754Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:09:59:49 +0000] \"POST /api/chat HTTP/1.1\" 200 596 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T09:59:49.773Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:00:10 +0000] \"POST /api/chat HTTP/1.1\" 200 492 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:00:10.430Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:02:04.144Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:02:05.189Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:02:15 +0000] \"POST /api/chat HTTP/1.1\" 200 277 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:02:15.619Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:03:21.885Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:03:22.783Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:03:38 +0000] \"POST /api/chat HTTP/1.1\" 200 398 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:03:38.754Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:04:29 +0000] \"POST /api/chat HTTP/1.1\" 200 208 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:04:29.126Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:04:45 +0000] \"POST /api/chat HTTP/1.1\" 200 401 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:04:45.932Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:06:18 +0000] \"POST /api/chat HTTP/1.1\" 200 208 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:06:18.401Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:06:24 +0000] \"POST /api/chat HTTP/1.1\" 200 401 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:06:24.082Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:07:22.023Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:07:22.676Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:07:56 +0000] \"POST /api/chat HTTP/1.1\" 200 208 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:07:56.630Z"}
{"level":"error","message":"TypeError: currentUser.messages is not iterable","stack":"TypeError: currentUser.messages is not iterable\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:71:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T10:08:01.940Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:08:01 +0000] \"POST /api/chat HTTP/1.1\" 500 67 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:08:01.941Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:10:21.649Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:10:22.534Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:11:20 +0000] \"POST /api/chat HTTP/1.1\" 200 481 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:11:20.193Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:11:27 +0000] \"POST /api/chat HTTP/1.1\" 200 441 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:11:27.274Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:13:32.608Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:13:33.674Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:13:48 +0000] \"POST /api/chat HTTP/1.1\" 200 208 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:13:48.874Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:14:09 +0000] \"POST /api/chat HTTP/1.1\" 200 373 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:14:09.912Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:14:49.915Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:14:51.072Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:16:48.148Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:16:48.938Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:17:21 +0000] \"POST /api/chat HTTP/1.1\" - - \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:17:21.741Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:17:31.304Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:17:31.794Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:17:43 +0000] \"POST /api/chat HTTP/1.1\" 200 436 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:17:43.057Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:17:51 +0000] \"POST /api/chat HTTP/1.1\" 200 327 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:17:51.236Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:21:55.108Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:21:55.882Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:22:28 +0000] \"POST /api/chat HTTP/1.1\" 200 535 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:22:28.436Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:22:51.626Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:22:52.153Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:23:02 +0000] \"POST /api/chat HTTP/1.1\" 200 466 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:23:02.534Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:24:33.910Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:24:35.102Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:25:08 +0000] \"POST /api/chat HTTP/1.1\" 200 401 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:25:08.200Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:25:15 +0000] \"POST /api/chat HTTP/1.1\" 200 452 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:25:15.930Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:26:05.399Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:26:06.390Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:26:45 +0000] \"POST /api/chat HTTP/1.1\" 200 352 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:26:45.006Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:26:51 +0000] \"POST /api/chat HTTP/1.1\" 200 437 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:26:51.998Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:27:03 +0000] \"POST /api/chat HTTP/1.1\" 200 292 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:27:03.274Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:31:12.651Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:31:13.616Z"}
{"level":"error","message":"CastError: Cast to embedded failed for value \"{\n  name: 'what is ego',\n  messages: [\n    'what is ego',\n    'The ego is first and foremost a bodily ego, a projection of the surface of the body. It represents reason, common sense, and the reality principle in contrast to the id, which contains the passions. The ego ideal is a substitute for a longing for the father and contains the germ from which religions have evolved. It plays a role in moral censorship and the sense of guilt.'\n  ]\n}\" (type Object) at path \"messages\" because of \"CastError\"","stack":"CastError: Cast to embedded failed for value \"{\n  name: 'what is ego',\n  messages: [\n    'what is ego',\n    'The ego is first and foremost a bodily ego, a projection of the surface of the body. It represents reason, common sense, and the reality principle in contrast to the id, which contains the passions. The ego ideal is a substitute for a longing for the father and contains the germ from which religions have evolved. It plays a role in moral censorship and the sense of guilt.'\n  ]\n}\" (type Object) at path \"messages\" because of \"CastError\"\n    at SchemaDocumentArray.cast (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/schema/documentArray.js:502:19)\n    at SchemaType.applySetters (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/schemaType.js:1255:12)\n    at castUpdateVal (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/helpers/query/castUpdate.js:626:21)\n    at walkUpdatePath (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/helpers/query/castUpdate.js:433:24)\n    at castUpdate (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/helpers/query/castUpdate.js:144:7)\n    at model.Query._castUpdate (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/query.js:4703:10)\n    at model.Query._updateThunk (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/query.js:3896:25)\n    at model.Query._updateOne (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/query.js:3984:23)\n    at model.Query.exec (/Users/noelwilliams/Documents/projects/ai/ragAPI/node_modules/mongoose/lib/query.js:4456:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T10:32:23.735Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:32:23 +0000] \"POST /api/chat HTTP/1.1\" 500 579 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:32:23.738Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:34:20.168Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:34:20.839Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:34:30 +0000] \"POST /api/chat HTTP/1.1\" 200 453 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:34:30.765Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:34:41 +0000] \"POST /api/chat HTTP/1.1\" 200 456 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:34:41.294Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:37:45.933Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:37:46.738Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:37:59 +0000] \"POST /api/chat HTTP/1.1\" 200 449 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:37:59.692Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:38:08 +0000] \"POST /api/chat HTTP/1.1\" 200 456 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:38:08.010Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:40:15 +0000] \"POST /api/chat HTTP/1.1\" 200 511 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:40:15.982Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:41:14.517Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:41:15.331Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:42:03.270Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:42:03.778Z"}
{"level":"error","message":"TypeError: chatHistory.length is not a function","stack":"TypeError: chatHistory.length is not a function\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:29:96)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T10:42:15.824Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:42:15 +0000] \"POST /api/chat HTTP/1.1\" 500 67 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:42:15.827Z"}
{"level":"error","message":"TypeError: chatHistory.length is not a function","stack":"TypeError: chatHistory.length is not a function\n    at chat (/Users/noelwilliams/Documents/projects/ai/ragAPI/src/controllers/chatController.js:29:96)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-17T10:42:37.789Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:42:37 +0000] \"POST /api/chat HTTP/1.1\" 500 67 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:42:37.792Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-17T10:42:48.034Z"}
{"level":"info","message":"Connected to MongoDB","timestamp":"2025-03-17T10:42:49.054Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:43:00 +0000] \"POST /api/chat HTTP/1.1\" 200 413 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:43:00.696Z"}
{"level":"info","message":"::1 - - [17/Mar/2025:10:43:08 +0000] \"POST /api/chat HTTP/1.1\" 200 665 \"http://localhost:5173/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15\"","timestamp":"2025-03-17T10:43:08.346Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T05:22:52.322Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T05:23:22.520Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T05:26:13.848Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T05:26:43.915Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T05:26:51.114Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T05:27:21.205Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T05:27:39.215Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T05:28:09.329Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T06:09:58.027Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T06:10:28.166Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T06:10:56.414Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T06:12:19.049Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T07:07:48.626Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T07:08:18.814Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-03-18T07:08:49.386Z"}
{"level":"error","message":"Error connecting to MongoDB:","timestamp":"2025-03-18T07:09:19.452Z"}
